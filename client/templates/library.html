<template name="library">
  {{#unless currentPersonId}}
    <h1>Library</h1>
    <p>Sign in to view your library.</p>
  {{else}}
    <div class="row">
      {{> libraryPublications}}
      {{> collections}}
    </div>
  {{/unless}}
</template>

<template name="libraryPublications">
  <div class="col12">
    <h1>Library</h1>
    {{#if myPublications.count}}
      <ol class="library-publications entity-list">
        {{#each myPublications}}
          {{> publicationListing}}
        {{/each}}
      </ol>
    {{else}}
      <p class="empty-library hint">Your library is empty. Import a publication PDF or add a publication available on the site.</p>
    {{/if}}
  </div>
</template>

<template name="collections">
  <div class="library-collections-wrapper">
    <div class="col4 push12 sidebar library-collections">
      <h2>My Collections</h2>
      {{#if myCollections.count}}
        <ol class="entity-list">
          {{#each myCollections}}
            {{> collectionListing}}
          {{/each}}
        </ol>
        <p class="drag-publications-hint hint">
          Drag and drop publications to add them to collections.
        </p>
      {{else}}
        {{> noCollections}}
      {{/if}}
      {{> addNewCollection}}
    </div>
  </div>
</template>

<template name="noCollections">
  <p class="no-collections hint">You don't have any collections. Create one below.</p>
</template>

<template name="addNewCollection">
  <h3>Create a new collection</h3>
  <form class="add-collection input-and-buttons control">
    <button type="submit" class="add">Create</button>
    <div class="input"><input type="text" class="name" placeholder="Collection name" /></div>
  </form>
</template>