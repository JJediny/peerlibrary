<template name="uploadOverlay">
  {{#if uploadOverlayActive}}
    <div class="drop-overlay">
      <div class="content">
        <h1>Drop files here</h1>
        {{#each publicationsUploading}}
          {{> uploadProgressBar}}
        {{/each}}
      </div>
    </div>
  {{/if}}
</template>

<template name="loginOverlay">
  {{#if loginOverlayActive}}
    <div class="drop-overlay">
      <div class="content">
        <h1>Please sign in before uploading.</h1>
      </div>
    </div>
  {{/if}}
</template>

<template name="uploadProgressBar">
  <div class="upload-progress-bar" style="width: {{progress}}%"></div>
</template>

<template name="publicationImporting">
  <div style="width: 960px">
    {{#if this.cached}}
      <h3><a href="{{publicationPath this._id this.slug}}">{{ this._id }}</a></h3>
      {{> importPublicationForm}}
    {{/if}}
    <div class="upload-progress-bar" style="width: {{progress}}%"></div>
  </div>
</template>

<template name="importPublicationForm">
  <form data-id="{{this._id}}">
    <label for="title">Title:</label>
    <input type="text" name="title" value="{{this.title}}" />
    <label for="authorsRaw">Authors:</label>
    <input type="text" name="authorsRaw" value="{{this.authorsRaw}}" />
    <label for="abstract">Abstract:</label>
    <textarea name="abstract">{{this.abstract}}</textarea>
    <label for="doi">DOI:</label>
    <input type="text" name="doi" value="{{this.doi}}" />
    <input type="submit" value="Confirm" />
  </form>
</template>